# TimelineVisualizer

L’attività di stage ha previsto la realizzazione di Timeline Visualizer, un’applicazione che sfrutta il framework TAM, Time Aware Machine, ovvero un application framework di tipo object oriented che permette lo sviluppo di sistemi di tipo real time, dove il tempo è l’elemento chiave. Questo sistema è basato su linee del tempo, ovvero timeline, sulle quali sono presenti dei fatti. Una timeline è una struttura dati, la quale costruisce una rappresentazione statica del tempo come un sequenza di intervallini, chiamati grain. Un grain è un’unità di tempo elementare, ed è una quantità indivisibile e non ispezionabile. Le timeline sono definite da file di testo. Una timeline può essere costruita a partire da un’altra timeline, è presente quindi una relazione di dipendenza; tutte le timeline dipendono da un’unica timeline indipendente chiamata Ground Timeline, in cui la durata dei suoi grain non è condizionata dalla durata di altri grain. Lo stato delle timeline è serializzato, il compito di questa attività è stato quello di rendere visibile le timeline stesse, con i relativi fatti e intervalli, in un disegno grafico, quindi quello di visualizzare le proprietà di una generica timeline in modo comprensibile, mostrandole graficamente. Per la realizzazione dell’applicazione si è scelto di renderla eseguibile su dispositivi Android, in modo tale da rendere più intuitiva la navigazione nel disegno delle timeline scorrendo il dito sul display, e sempre con il dito avere informazioni circa un singolo fatto, semplicemente premendo sul suo disegno. Le timeline grazie all’area di tipo scrollabile in cui sono disegnate sono visibili nella loro interezza, ed è possibile conoscere lo stato di un fatto grazie a dei messaggi a video generati alla pressione su di esso. L’applicazione è eseguibile su dispositivi Android con versione da Ice Cream Sandwich in poi, con display di qualsiasi dimensione e di qualsiasi densità, grazie all’abilitazione dello scrolling nelle sue schermate, tenendo conto delle diverse densità di display. Non necessita di particolari configurazioni hardware né tanto meno permessi speciali per accedere all’hardware del terminale. Timeline Visualizer è composta da tre schermate:
1. La splash screen, che presenta il logo del progetto e il nome;
2. La schermata principale, composta da una lista grazie alla quale un utente può
selezionare quali timeline visualizzare. In questa stessa schermata può scegliere inoltre di
visualizzare le relative dipendenze;
3. La schermata di disegno, scrollabile, che contiene appunto il disegno di tutte le timeline
selezionate, mostrando eventualmente le dipendenze vigenti fra esse. Verranno disegnate solamente le timeline selezionate, quindi la Ground Timeline non viene disegnata. Considerando che tutte vengono create a partire da lei, disegnando le timeline è come disegnare la GT.
Il testing di Timeline Visualizer è stato fatto usando dispositivi quali tablet e smartphone, nonché macchine virtuali ospitate sul computer, modificando di volta in volta le caratteristiche hardware per studiare il comportamento dell’applicazione. Può essere eseguita sia in portrait sia in landscape. L’utente può scegliere sia di visualizzare le singole timeline, sia di visualizzare il concetto di dipendenza. Se preme il tasto fisico “indietro” nella schermata di disegno, torna alla schermata principale, se dalla schermata principale preme lo stesso tasto potrà chiudere l’applicazione. La versione dell’applicazione trattata nel Rapporto di Stage è la 1.0.0710. I documenti di testo che definiscono le timeline sono inseriti all’interno dell’applicazione al momento della creazione, quindi tramite l’ambiente di sviluppo utilizzato, Eclipse. L’installazione avviene con l’apertura del file .apk sul dispositivo. Le timeline vengono disegnate utilizzando le funzionalità offerte dalla classe Canvas, nel Rapporto di Stage sono stati definiti i pro e i contro di questa scelta. Per disegnare i fatti, è stato adottato un concetto di livello, dedicato a ciascun fatto della generica timeline. Se un generico fatto inizia prima che il precedente finisce, disegnandolo sulla stessa riga sovrascriverebbe il precedente. Il generico fatto acquista un nuovo livello, controllando se in questo livello il fatto non sovrascrive altri fatti dello stesso livello, in questo caso gli viene dedicato un altro livello facendo poi nuovamente la verifica. Ogni livello corrisponde a una riga, ogni fatto quindi è disposto a righe, nell’area posta sopra la timeline. Il livello 0 corrisponde ai fatti definiti “singoli”, ovvero che iniziano in un istante di tempo e terminano nello stesso. La dipendenza fra timeline è rappresentata disponendo le timeline una sopra l’altra, dove ogni generica timeline ha sopra di lei la timeline da cui dipende, e i rispettivi grain sono collegati fra loro. Se ad esempio, timeline2 dipende da timeline1, i cui grain valgono il doppio di timeline1, un singolo intervallo di timeline2 vale due intervalli di timeline1, quindi ciascun intervallo di timeline2 sarà collegato a due intervalli di timeline1. L’icona del progetto è rappresentata da una forma circolare con all’interno delle frecce colorate, per richiamare il concetto di linea del tempo.